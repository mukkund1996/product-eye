# Web Application Testing Tasks

persona_research_task:
  description: >
    Research and build a comprehensive persona profile for {persona_type} by gathering
    information about their professional context, technology usage patterns, work
    habits, pain points, and behavioral characteristics.
    
    Steps to follow:
    1. Use SerperDevTool to search for information about {persona_type} professionals
    2. Research typical technology usage patterns and preferences
    3. Identify common work contexts and environmental factors
    4. Understand typical challenges and pain points in their work
    5. Gather insights about decision-making processes and priorities
    6. Compile behavioral patterns and interaction preferences
    7. Create a detailed persona profile that can guide realistic user testing
    
    Focus on gathering actionable insights that will help simulate authentic
    user behavior during web application testing.
  expected_output: >
    A comprehensive persona profile document including:
    - Professional background and typical responsibilities
    - Technology proficiency level and preferred tools
    - Device preferences and usage contexts
    - Common work environments and constraints
    - Typical pain points and frustrations with technology
    - Decision-making patterns and priorities
    - Time pressures and efficiency requirements
    - Communication and collaboration preferences
    - Behavioral characteristics relevant to web application usage
    - Specific quotes or insights from research sources
  agent: persona_researcher
  output_file: output/persona_profile_{persona_type}.md

persona_navigation_task:
  description: >
    Navigate the web application at {app_url} using the researched {persona_type} persona profile
    from the persona research task.
    
    Steps to follow:
    1. Review the comprehensive persona profile created by the persona researcher
    2. Apply the persona's behavioral patterns, preferences, and constraints
    3. Navigate to {app_url} and explore key pages following the researched behavior patterns
    4. Execute EACH testing instruction systematically with detailed tracking:
       - For each testing instruction, track attempts made vs max_attempts allowed
       - Document whether success criteria were met for each task
       - If a task fails and attempts remain, retry with persona-appropriate adjustments
       - Execute fallback action if task cannot be completed within max_attempts
       - Provide detailed completion notes for each testing instruction
    5. Document all interactions, observations, and any usability issues encountered
    6. Focus on areas most relevant to the researched {persona_type} characteristics
    7. Simulate realistic reactions and decision-making based on the persona research
    8. Provide structured output with detailed testing instruction results
    
    IMPORTANT: Your output must include a 'testing_instruction_results' field with detailed
    tracking for each testing instruction including attempts made, success criteria assessment,
    and completion status.
    
    Output should include navigation path, user observations, pain points, positive experiences,
    and most importantly, detailed results for each testing instruction that can be verified
    by the monitoring agent.
  inputs:
    testing_instructions:
      description: >
        A list of high-level tasks for the persona navigator to complete on the website.
        Each task should be approached according to the persona's natural behavior patterns.
        Tasks should be attempted with the specified maximum attempts before moving on.
      type: list
      required: true
      structure:
        - task: "High-level goal or objective to accomplish"
          priority: "high|medium|low"
          max_attempts: 3
          success_criteria: "General outcome that indicates task completion"
          fallback_action: "What to do if the task cannot be completed"
      example:
        - task: "Explore the main interface and understand the primary purpose"
          priority: "high"
          max_attempts: 3
          success_criteria: "Gain understanding of what the application does and how to navigate it"
          fallback_action: "Document any confusion about the application's purpose and continue"
        - task: "Engage with the core functionality as a typical user would"
          priority: "high"
          max_attempts: 2
          success_criteria: "Successfully interact with the main features of the application"
          fallback_action: "Document barriers to engagement and try alternative approaches"
        - task: "Find and use search or discovery features"
          priority: "medium"
          max_attempts: 3
          success_criteria: "Locate relevant content or information using available tools"
          fallback_action: "Document search limitations and continue with manual exploration"
  expected_output: >
    A detailed report of the navigation experience including:
    - Application of researched persona characteristics during navigation
    - Testing instruction execution results (success/failure/attempts for each)
    - Pages visited and interaction patterns based on persona research
    - Usability issues or friction points encountered from persona perspective
    - Positive experiences and smooth interactions
    - Technical observations (load times, responsiveness, etc.)
    - Specific quotes or reactions the researched persona might have had
    - Summary of completed vs. attempted instructions with retry counts
    - References to how persona research influenced navigation decisions
  agent: persona_navigator
  context:
    - persona_research_task
  output_file: output/persona_navigation_report_{persona_type}.json

navigation_verification_task:
  description: >
    Verify and evaluate the completion quality of the persona navigation task.
    You will receive the navigation report as context. Review this report against 
    the original testing instructions to ensure all tasks were attempted and 
    completed satisfactorily and meet the success criteria.
    
    Steps to follow:
    1. Carefully review the testing instructions provided in inputs
    2. Analyze the navigation report from the previous task execution
    3. For each testing instruction, verify:
       - Was the task attempted?
       - How many attempts were made vs max_attempts allowed?
       - Was the success criteria met?
       - If not successful, was the fallback action executed?
    4. Evaluate the overall quality and thoroughness of task completion against the success_criteria of the testing instructions.
    5. Identify any missed requirements or incomplete high-priority tasks
    6. If tasks are incomplete/unsatisfactory AND within max_attempts, provide feedback for retry
    7. Make final decision: PROCEED, RETRY (with guidance), or ACCEPTABLE_WITH_MAX_ATTEMPTS
    
    IMPORTANT RULES:
    - Respect max_attempts limit: if a task reached max_attempts, don't request retry for that specific task
    - Focus on high-priority tasks that failed within their attempt limits
    - Provide specific, actionable retry guidance if requesting RETRY
    - If most critical tasks are complete or max_attempts reached, prefer PROCEED or ACCEPTABLE_WITH_MAX_ATTEMPTS
  inputs:
    testing_instructions:
      description: >
        The exact testing instructions that were provided to the persona navigator.
        Use these as the verification criteria to assess completion quality.
      type: list
      required: true
      structure:
        - task: "High-level goal or objective to accomplish"
          priority: "high|medium|low"
          max_attempts: 3
          success_criteria: "General outcome that indicates task completion"
          fallback_action: "What to do if the task cannot be completed"
  expected_output: >
    A verification report that includes:
    - Overall completion assessment (satisfactory/needs_improvement/acceptable_with_max_attempts)
    - Task-by-task verification against testing instructions
    - Analysis of attempt counts vs max_attempts for each task
    - Specific feedback for incomplete or unsatisfactory tasks
    - Recommendations for re-navigation (if within max_attempts limits)
    - Priority assessment of any missing requirements
    - Final decision: PROCEED or RETRY (with specific guidance)
  agent: navigation_monitor
  context:
    - persona_research_task
    - persona_navigation_task
  output_file: output/navigation_verification_{persona_type}.json

interview_simulation_task:
  description: >
    Based on the persona research and navigation findings, conduct a realistic
    user interview simulation that explores the user experience in depth.
    
    Steps to follow:
    1. Review the comprehensive persona profile from persona research
    2. Review the navigation findings and observed interactions
    3. Create realistic interview questions based on observed interactions and persona context
    4. Simulate authentic user responses that reflect the testing experiences and task completion.
    5. Probe deeper into pain points and positive experiences identified
    6. Focus on actionable insights for product improvement that align with persona needs
    
    The interview should feel authentic and reflect the actual user journey observed
    while staying true to the researched persona characteristics.
  expected_output: >
    A comprehensive interview transcript that includes:
    - Interview questions focused on the observed user journey and persona context
    - Realistic user responses based on navigation findings and persona research
    - Follow-up questions that probe deeper into issues relevant to the persona type
    - User sentiment and emotional reactions consistent with persona characteristics
    - Specific improvement suggestions from the persona perspective
    - Key quotes that highlight major insights relevant to the persona type
  agent: interviewer
  context:
    - persona_research_task
    - persona_navigation_task
  output_file: output/interview_transcript_{persona_type}.md

final_report_task:
  description: >
    Synthesize all testing data, analysis findings, and interview insights into a
    comprehensive product critique report for {app_url}. Combine:
    - Technical performance and functionality assessment
    - Technical analysis and recommendations
    - Persona-specific feedback and behavior insights
    - Interview findings and user sentiment
    - Competitive analysis and market positioning
    - Prioritized action items for product improvement
  expected_output: >
    A comprehensive product critique report including:
    - Executive summary with key findings and recommendations
    - Detailed sections for technical and design analysis
    - Persona-specific insights and behavior patterns
    - Interview highlights and user feedback compilation
    - Competitive analysis and market opportunities
    - Prioritized roadmap of improvement recommendations
    - Appendix with raw data, screenshots, and detailed metrics
    Formatted as markdown without code blocks
  agent: report_synthesizer
  context:
    - persona_research_task
    - persona_navigation_task
    - interview_simulation_task
  output_file: output/final_product_critique_report_{persona_type}.md
